const quizzesService = require("../services/quizzes-service")

// this anonymous function deals with the requests for quizzes
module.exports = (app) => {
    const findAllQuizzes = (req, res) => {
        quizzesService.findAllQuizzes()
            .then(quizzes => res.send(quizzes))
    }
    const findQuizById = (req, res) => {
        // param is a map generated by request and parses out path var
        const quizId = req.params["qid"]
        quizzesService.findQuizById(quizId)
            .then(quiz => res.send(quiz))
    }
    app.get("/api/quizzes", findAllQuizzes)
    app.get("/api/quizzes/:qid", findQuizById)
}
